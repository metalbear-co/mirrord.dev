{{ if .Site.Params.alertDismissable -}}
<div id="announcement" data-id="global-alert-{{ md5 .Site.Params.alertText }}"
  class="fade show text-center text-lg-center bg-primary alert" role="alert">
  {{ .Site.Params.alertText | safeHTML }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" onclick="dismissAlert()"></button>
</div>

<script>  
  var isAlertDismissed = localStorage.getItem('alertDismissed');
  if (isAlertDismissed) {
    document.getElementById('announcement').style.display = 'none';
  }
  
  function dismissAlert() {
    document.getElementById('announcement').style.display = 'none';
    localStorage.setItem('alertDismissed', 'true');
  }    
</script>

{{ else -}}
<div id="announcement" data-id="global-alert-{{ md5 .Site.Params.alertText }}" class="fade show text-center text-lg-center bg-primary alert" role="alert">
  {{ .Site.Params.alertText | safeHTML }}
</div>
{{ end -}}